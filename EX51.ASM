COUNT EQU 10
DATA SEGMENT
        MA DB 0        
	NUM DB 10 DUP(?)
	IBUF DB 7,0,6 DUP(?)
	OBUF DB 6 DUP(?)
        INFOR1 DB "Please input 10 numbers:(<256)",10,13,'$'
        INFOR2 DB "The max found in the 10 numbers is:"
        INFOR3 DB 10,13,'$'
DATA ENDS
STACK SEGMENT STACK
	DATA2 DW 40 DUP(?)
	TOP EQU LENGTH DATA2
STACK ENDS
CODE SEGMENT
	ASSUME CS:CODE,DS:DATA,SS:STACK
START:  MOV AX,DATA
	MOV DS,AX
	MOV AX,STACK
	MOV SS,AX
	MOV AX,TOP
	MOV SP,AX
	DSTRING MACRO STI
	PUSH DX
	PUSH AX
	LEA DX,STI
        MOV AH,9
	INT 21H
	POP AX
	POP DX
	ENDM
	DSTRING INFOR1
	MOV BX,OFFSET NUM
	MOV CX,COUNT
LOOP1:  CALL STOB
	DSTRING INFOR3
	MOV [BX],AL
	INC BX
	LOOP LOOP1
	MOV AX,OFFSET NUM
	PUSH AX	
	MOV CX,COUNT
	PUSH CX
	CALL FMAX
	DSTRING INFOR2
	CALL BTOAD
	MOV AH,4CH
	INT 21H
	STOB PROC
	PUSH CX
	PUSH BX
	PUSH DX
	MOV DX,OFFSET IBUF
        MOV AH,10
	INT 21H
	MOV CL,IBUF[1]
	XOR CH,CH
	MOV DL,0
	MOV BL,1
        MOV SI,OFFSET IBUF[1]
	INC SI
	ADD SI,CX
LOP5:   MOV AL,[SI]
	SUB AL,30H
	MUL BL
	ADD DL,AL
        MOV AL,10
	MUL BL
	MOV BL,AL
	DEC SI
	LOOP LOP5
	MOV AL,DL
	POP DX
	POP BX
	POP CX
	RET
	STOB ENDP
	FMAX PROC 
	MOV BP,SP
	MOV SI,[BP+4]
	MOV CX,[BP+2]
	DEC CX
	MOV AL,[SI]
LOP2:   INC SI
        MOV AH,[SI]
	CMP AH,AL
        JBE NEXT
	XCHG AH,AL
NEXT:	LOOP LOP2
	MOV MA,AL
	RET
        FMAX ENDP
	BTOAD PROC
	MOV AL,MA
	XOR AH,AH
	MOV BL,100
        MOV CX,3
LOP3:	DIV BL
	PUSH AX
	MOV DL,AL
	ADD DL,30H
        MOV AH,2
	INT 21H
        MOV AL,BL
	XOR AH,AH
	MOV BL,10
	DIV BL
	MOV BL,AL
	POP AX
	MOV AL,AH
	XOR AH,AH
	LOOP LOP3
	RET 
	BTOAD ENDP
CODE ENDS
	END START 