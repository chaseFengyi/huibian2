DATA SEGMENT
	NUM DB 10 DUP(?)
	N DB ?
	IBUF DB 7,0,6 DUP(?)
        OBUF DB 6 DUP(?)
	INFOR1 DB "Please input the N:$"
        INFOR2 DB 0AH,0DH,"Please input the number:",0AH,0DH,'$'
	INFOR3 DB "The sum is:$"
	INFOR4 DB 0AH,0DH,'$'
DATA ENDS
CODE SEGMENT
        ASSUME CS:CODE,DS:DATA
START:  MOV AX,DATA
	MOV DS,AX
DSTRING MACRO STRING
	PUSH DX
	PUSH AX
	MOV DX,OFFSET STRING
	MOV AH,09H
	INT 21H
	POP AX
	POP DX
	ENDM
DSTRING INFOR1
	MOV AH,01H
	INT 21H	
	SUB AL,30H
	MOV N,AL
	DSTRING INFOR2
	MOV BX,OFFSET NUM
	MOV CL,N
	MOV CH,0
LOOP1:  PUSH CX
	CALL DTOB
	DSTRING INFOR4
	MOV [BX],AL
	INC BX
	POP CX
	LOOP LOOP1
	MOV SI,OFFSET NUM
	MOV CL,N
	CALL XADD
	DSTRING INFOR3
	CALL BTOAD
	JMP T2
DTOB:   MOV DX,OFFSET IBUF
	MOV AH,0AH
	INT 21H
	MOV CL,IBUF+1
	MOV CH,0
	MOV SI,OFFSET IBUF+2
	MOV AX,0
AGAIN:  MOV DX,10
	MUL DX
	AND BYTE PTR [SI],0FH
	ADD AL,[SI]
	ADC AH,0
	INC SI
	LOOP AGAIN
	RET
XADD:   MOV AX,0
T1:     MOV BL,[SI]
	MOV BH,0
	ADD AX,BX
	INC SI
	LOOP T1
	RET
BTOAD:  MOV BX,OFFSET OBUF+5
	MOV BYTE PTR [BX],'$'
	MOV CX,10
LOOP2:  MOV DX,0
	DIV CX
	ADD DL,30H
	DEC BX
	MOV [BX],DL
	OR AX,AX
	JNZ LOOP2
	MOV DX,BX
	MOV AH,09H
	INT 21H
	RET
T2:	MOV AH,4CH
	INT 21H	
CODE ENDS
	END START 
